<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Async Await API Example</title>
</head>

<body>
    <h2>Users List</h2>
    <button id="loadBtn">Load Users</button>
    <ul id="userList"></ul>

    <script>
        async function fetchUsers() {
            try {
                const response = await fetch(
                    "https://jsonplaceholder.typicode.com/users"

                );
                if (!response.ok) throw new Error("Network error");

                const users = await response.json();

                const userList = document.getElementById("userList");

                users.forEach((user) => {
                    const li = document.createElement("li");
                    li.textContent = `${ user.name } (${ user.email })`;
                userList.appendChild(li);
            });
        } catch (error) {
            console.error("Error:", error);
            document.getElementById("userList").innerHTML = '<li style="color:red">Failed to load users</li>';
        }
    }

        document.getElementById("loadBtn").addEventListener("click", fetchUsers);
    </script>
</body>

</html>